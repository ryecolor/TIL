# 240718 - Python 04: Modules & Control of Flow
> ## Index
> 
> 1) `모듈 module` 불러오고 사용하기
> 2) `PSL 패키지`와 `pip`를 통해 설치하는 `외부 패키지`
> 3) 제어문 ① `조건문`
> 4) 제어문 ② `반복문` & `반복문 제어`
> 5) Etc.: `list comprehension`, `enumerate`
> ---

<br>

### 1) `모듈 module` 불러오고 사용하기
---
`모듈 Module`은 한 파일로 묶인 변수와 함수의 모음이다. 특정한 기능을 하는 코드가 작성된 파이썬 파일(.py)의 형태를 가진다.
``` python
# 모듈을 가져오는 방법

1. import문 사용
import math
print(math.sqrt(4))
# 활용 시 모듈 이름까지 명시
# 보다 명시적이며, 이름 충돌을 방지

2. from절 사용
from math import sqrt
print(sqrt(4))
# 활용 시 모듈 이름 명시 불필요
# 어떤 모듈의 함수인지 알기 어려움


# 모듈을 사용하는 방법

'.(dot)' 연산자 사용
print(math.pi) #3.14... # 모듈명.변수명
print(math.sqrt(4)) # 2.0 # 모듈명.함수명

모듈 내 요소 확인하는 `help()`
help(math)
```

### ✔ 모듈 주의사항 및 해결책
---

- `이름 충돌`
    - 서로 다른 모듈이 같은 이름의 함수를 제공할 경우 문제 발생
    - 마지막에 import된 중복 명칭의 함수로 대체됨
    - 따라서 모듈 내 모든 요소를 한번에 import하는 `* 표기`는 권장하지 않음
    ``` python
    from math import * # 사용 지양
    ```

- `as 키워드`
    - ​as 키워드를 사용하여 별칭(alias)을 부여
    ``` python
    from math import sqrt
    from my_math import sqrt as my_sqrt

    sqrt(4)
    my_sqrt(4)
    ```

<br>

### ✔ 사용자 정의 모듈
---

- 모듈 my_math.py 작성
- 모듈 내에서 두 수의 합을 구하는 add 함수 작성
- my_math `모듈 import` 후 add `함수 호출`

<br>
<br>

### 2) `PSL 패키지`와 `pip`를 통해 설치하는 `외부 패키지`
---
### ✔ Python Standard Library
---
- Python Standard Library (PSL, 파이썬 표준 라이브러리)
- 파이썬 언어와 함께 제공되는 다양한 `모듈`과 `패키지`의 모음
- `Package(패키지)` : 연관된 모듈을 하나의 디렉토리에 모아 놓은 것

<br>

> 패키지 사용하기
- 가지치기 방식(패키지 ⊃ 모듈)의 디렉토리 구조 작성
- 패키지 내 패키지 위치 가능
- 각 패키지의 모듈을 import하여 사용

<br>

> `PSL 내부 패키지` VS `외부 패키지`
- PSL 내부 패키지: 설치 없이 바로 import하여 사용
- 외부 패키지: pip를 사용하여 설치 후 import 필요

<br>

> `pip` (파이썬 패키지 관리자)
- 외부 패키지들을 설치하도록 도와주는 파이썬의 `패키지 관리 시스템`
- `PyPI(Python Package Index)`에 저장된 외부 패키지들을 설치 및 관리 (목록 정리 등)
- 패키지 버전별 설치 (온라인상의 외부 패키지 설치 위해 인터넷 필요)
``` python
$ pip install SomePackage   # 최신 버전 # 호환성, 버그 문제 발생 가능
$ pip install SomePackage==1.0.5   # 특정 버전
$ pip install SomePackage>=1.0.4   # 최소 버전
```

<br>

> 외부 패키지 `requests` 설치 및 사용 예시
- 외부 API로 요청을 보내는 역할 수행
``` python
import requests # 터미널 창에서 pip install requests 우선 실행

url = 'https://random-data-api.com/api/v2/users' #설치 및 실행 시 해당 url로 사이트 접속 가능
response = requests.get(url).json()

print(response)
```

<br>

> 패키지 사용 목적
- 모듈들의 이름공간을 구분하여 `이름 충돌 방지` (이름이 같아도 경로가 다르므로 구분 가능)
- 모듈들을 효율적으로 관리하고 재사용할 수 있도록 돕는 역할 수행

<br>
<br>


### 3) 제어문 ① `조건문`
---

### ✔ 제어문 (Control Statement)
---
- 코드의 실행 흐름을 제어하는 것에 사용되는 구문
- `조건`에 따라 코드 블록을 실행하거나 `반복`적으로 코드를 실행
- `조건문`
  - if, elif, else
- `반복문`
  - for, while
- `반복문 제어`
  - break, continue, pass

<br>

### ✔ 조건문 (Conditional Statement)
---
- 주어진 조건식을 평가하여 해당 `조건이 참(True)`인 경우에만 코드 블록을 실행하거나 건너뜀
- `if`, `elif`, `else` : 파이썬 조건문에 사용되는 키워드
- `'if' statement`
    - `복수 조건문` : 조건식을 동시에 검사하는 것이 아니라 순차적으로 비교
    - `중첩 조건문` : 조건식 내부에 조건식을 추가적으로 설정
    - if만 단독으로 사용 가능하나, elif, else는 단독 사용 불가
    ``` python
    if day == 0:
        print("좋은 아침이에요!")
    elif day == 1:
        print("점심은 맛있게 먹었나요?")
    else:
        print("좋은 하루 보내요!")
    ```

<br>
<br>

### 4) 제어문 ② `반복문` & `반복문 제어`
---

### ✔ 반복문 (Loop Statement)
---
- 주어진 코드 블록을 `여러 번 반복`해서 실행하는 구문

<br>

- `'for' statement`
    - iterable의 요소를 하나씩 순회하며 반복
    - `반복 가능한 객체(iterable)` : 반복문에서 순회할 수 있는 객체 (시퀀스 객체 + dict, set 포함)
        - 반복 횟수가 명확한 리스트, 튜플, 문자열 등과 같은 `시퀀스 형식의 데이터 처리`에 유용
    ``` python
    numbers = [4, 6, 10, -8, 5]

    for i in range(len(numbers)): # 리스트 범위 len() 함수로 측정
        numbers[i] = numbers[i] * 2 # 인덱스로 요소 접근

    print(numbers) # [8, 12, 20, -16, 10]
    ```
    - style guide 주의: 변수 리스트명 `___s(복수형)`, 변수명 `___​(단수형)`으로 통일
    - `중첩된 반복문`에서 print가 호출되는 횟수 → `len(outers) * len(inners)` (이중 for문 숙지 필요)
    ``` python
    outers = ['A', 'B']
    inners = ['c', 'd']
    for outer in outers:
        for inner in inners:
            print(outer, inner)

    elements = [['A', 'B'], ['c', 'd']]
    for elem in elements:
        for item in elem:
            print(item)
    ```
    - 문자열, range, 딕셔너리 순회 · 인덱스로 리스트 순회

<br>

- `'while' statement`
    - 주어진 `조건이 참(True)인 동안` 코드를 반복해서 실행
    - 조건식이 `거짓(False)이 될 때까지` 반복
    - `사용자 입력`에 따른 반복: 특정 입력 값에 대한 종료 조건 활용
    ``` python
    while True:
        print("집에 가자!")
    ```

<br>

### ✔ 반복 제어
---
- for문과 while문은 매 반복마다 본문 내 모든 코드를 실행하지만 때때로 일부만 실행하는 것이 필요할 때가 있음
- `break` : 반복을 즉시 중지
- `continue` : 다음 반복으로 건너뜀
- `pass` : 아무런 동작도 수행하지 않고 넘어감
``` python
for i in range(10): # break
    if i == 5:
        break
    print(i)

numbers = [1, 3, 5, 6, 7, 9, 10, 11]
found_even = False # flag variable

for number in numbers:
    if number % 2 == 0:
        print(f'첫 번째 짝수 {number}를 찾았습니다.')
        found_even = True
        break
    else:
        continue

if not found_even:
    print('짝수를 찾지 못하였습니다.')


for i in range(10): # continue
    if i % 2 == 0:
        continue
    print(i)


for i in range(10): # pass
    pass
```

<br>
<br>

### 5) Etc.: `list comprehension`, `enumerate`
---

`List Comprehension`은 간결하고 효율적인 리스트 생성 방법이다. 그러나 남용하지 않아야 하며, 루프를 생성한 코드와 병용할 수 있도록 익혀야 한다.
``` python
numbers = [1, 2, 3, 4, 5]
squared_numbers = []

for num in numbers:
    squared_numbers.append(num**2) # 사용 전

print(squared_numbers)


squared_numbers2 = [num**2  for num in numbers] # 사용 후
print(squared_numbers2)
```

<br>

> 배열 활용 예시
``` python
data1 = [[0] * (5) for _ in range(5)]
data2 = [[0] for _ in range(5)] for _ in range(5)]

# [[0, 0, 0, 0, 0],
#  [0, 0, 0, 0, 0],
#  [0, 0, 0, 0, 0],
#  [0, 0, 0, 0, 0],
#  [0, 0, 0, 0, 0]]
```

> `enumerate(iterable, start=0)`
- iterable 객체의 각 요소에 대해 `인덱스와 함께 반환`하는 내장 함수
- start 기본 인자 값 변경 시 `인덱스 시작점`만 변화 (요소 모두 출력)
``` python
fruits = ['apple', 'banana', 'cherry']

for index, fruit in enumerate(fruits):
    print(f'인덱스 {index}: {fruit}')

# 인덱스 0: apple
# 인덱스 1: banana
# 인덱스 2: cherry
```